# Configuration file for EventSetupTest_t

process TEST = {

	path p = { prod }

	es_source = PoolDBESSource { VPSet toGet = {
                                   {string record = "CSCGainsRcd"
				    string tag = "CSCGains_from_online"}
			            }
		    		    bool loadAll = true
                                    string connect = "oracle://orcon/CMS_COND_CSC"
			            string timetype = "timestamp"
				    untracked string catalog = "relationalcatalog_oracle://orcon/CMS_COND_GENERAL"
	                            untracked uint32 authenticationMethod = 0
				   }

	#################################
	#original setup - just read constants
	#source = EmptySource { untracked int32 maxEvents = 3
         #                      untracked uint32 firstRun = 6
         #                      untracked uint32 numberEventsInRun = 1 
         #                     }
	
	#################################
	# run on binary files 
	#source = DaqSource {string reader = "CSCFileReader"
     	#	PSet pset ={ untracked vstring fileNames ={'/localscratch/oana/CMSSW_0_8_0_pre2/src/OnlineDB/CSCCondDB/test/060703_090734_UTC_000200_000_EmuRUI01_CFEB_Crosstalk.bin'}}
     	#	untracked int32  maxEvents = 10
     	#	untracked uint32 debugVebosity = 10
     	#	untracked bool   debugFlag     = false
	#}

	##################################
	#run on root files from castor, direct access
	source = PoolSource {
                untracked vstring fileNames ={ "castor:/castor/cern.ch/cms/emuslice/globaldaq/00000282_FilterUnitFramework_0_0.root"}
                untracked int32 maxEvents = 10 
	}


	module prod = CSCGainsReadAnalyzer{}
		
        module cscunpacker = CSCDCCUnpacker {
                //untracked bool PrintEventNumber = false
                untracked bool Debug = false
                untracked string theMappingFile = "csc_slice_test_map.txt"
                untracked int32 Verbosity = 0
        }
	


        module print = AsciiOutputModule { }
        endpath ep = { print,cscunpacker}
} 